language: php

php:
  - "5.6"

services:
  - redis-server

install:
  - composer install --prefer-source --no-interaction
  - composer update
  - composer dumpautoload

script:
  - vendor/bin/phpcs --ignore=functions.php --standard=PSR2 src/
  - vendor/bin/phpunit -c phpunit.xml.dist -v --testsuite integration
